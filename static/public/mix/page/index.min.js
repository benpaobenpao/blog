function datasController($scope){kscope=$scope,$scope.datas=[{_id:0,_type:4,_name:"组",_checked:!0,_open:!0,visibility:!0,zIndex:0,children:[{_p:0,_id:0,_type:1,_name:"文字",_checked:!0,color:"#000",fontSize:14,width:100,height:100,lineHeight:20,letterSpacing:0,bold:!1,italic:!1,textAlign:"left",left:100,top:100,zIndex:0,value:"我是字体",visibility:!0,effect:"slideOutLeft",delay:1},{_p:0,_id:1,_type:1,_name:"文字",_checked:!1,color:"#f00",fontSize:34,width:100,height:100,lineHeight:20,letterSpacing:0,bold:!1,italic:!1,textAlign:"center",left:100,top:100,zIndex:1,value:"字体哈哈哈放大",visibility:!0,effect:"flash",delay:0},{_p:0,_id:2,_type:2,_name:"图片",_checked:!1,color:"#000",fontSize:14,width:100,height:100,left:100,top:100,zIndex:2,value:"http://s3.51cto.com/wyfs02/M01/6B/DD/wKioL1U4rzOBwZ2rAACRuMeKbnY429.jpg",visibility:!0,effect:"flash",delay:0},{_p:0,_id:3,_type:1,_name:"文字",_checked:!1,color:"#000",fontSize:14,width:100,height:100,lineHeight:20,letterSpacing:0,bold:!1,italic:!1,textAlign:"left",left:100,top:100,zIndex:0,value:"看看",visibility:!0,effect:"rollIn",delay:1}]},{_id:1,_type:4,_name:"组",_checked:!1,_open:!0,visibility:!0,zIndex:1,children:[{_p:1,_id:0,_type:1,_name:"文字",_checked:!1,color:"#000",fontSize:14,width:100,height:100,lineHeight:20,letterSpacing:0,bold:!1,italic:!1,textAlign:"left",left:100,top:100,zIndex:0,value:"我是字体阿斯顿发撒旦法水电费",visibility:!0,effect:"bounceInDown",delay:1}]}],$scope.curLayerDatas=null;var inputTxtDropdown=jQuery(".inputTxtDropdown");$scope.curGroupLayersClick=function(p){for(var o in $scope.datas)$scope.datas[o]._checked=p==o?!0:!1;jQuery(".k_curLayer").removeClass("k_curLayer")},$scope.isLayerVisible=function(v,p,b,$event){$event.stopPropagation(),console.log(v),$scope.datas[p].children[b].visibility=!v},$scope.curLayerClick=function(p,b,$event){$event.stopPropagation(),$scope.curLayerDatas=$scope.datas[p].children[b],console.log(p,b);for(var po in $scope.datas)for(var bo in $scope.datas[po].children)$scope.datas[po].children[bo]._checked=b==bo&&p==po?!0:!1;inputTxtDropdown.find("option[value='"+$scope.curLayerDatas.effect+"']").attr("selected","selected")},inputTxtDropdown.change(function(){var anim=jQuery(this).val();console.log("aa"),console.log(anim),$scope.curLayerDatas.effect=anim,jQuery(".k_phone").find("[_checked='true']").removeClass().addClass(" animated "+anim).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){jQuery(this).removeClass()})}),$scope.isBoxTxtShow=!0,$scope.isGroupAttrShow=!0,$scope.boxTxtVal="",$scope.boxTxtSave=function(){console.log($scope.boxTxtVal),kCurP=jQuery(".k_curGroupLayers").attr("_id"),console.log(kCurP);for(var o in $scope.datas[kCurP].children)$scope.datas[kCurP].children[o]._checked=!1;var tmpData={_p:kCurP,_id:$scope.datas[kCurP].children.length,_type:1,_name:"文字",_checked:!0,color:"#000",fontSize:14,width:100,height:100,lineHeight:20,letterSpacing:0,bold:!1,italic:!1,textAlign:"center",left:100,top:100,zIndex:$scope.datas[kCurP].children.length,value:$scope.boxTxtVal,visibility:!0};console.log($scope.boxTxtVal),$scope.datas[kCurP].children.push(tmpData),$scope.isBoxTxtShow=!$scope.isBoxTxtShow,console.log($scope.datas)},$scope.boxTxtShow=function(){$scope.boxTxtVal="",$scope.isBoxTxtShow=!$scope.isBoxTxtShow},$scope.boxTxtClosed=function(){$scope.isBoxTxtShow=!$scope.isBoxTxtShow},$scope.setFontSize=function(p,b){console.log(p,b),$scope.datas[p].children[b]=$scope.curLayerDatas},$scope.setFontColor=function(p,b){console.log(p,b),kCurP=p,kCurB=b,console.log("click")},$scope.setFontLeft=function(p,b){$scope.datas[p].children[b]=$scope.curLayerDatas},$scope.setFontTop=function(p,b){$scope.datas[p].children[b]=$scope.curLayerDatas},$scope.setFontColorChange=function(p,b){$scope.datas,console.log("change...")},$scope.setFontLineHeight=function(p,b){$scope.datas[p].children[b]=$scope.curLayerDatas},$scope.setFontLetterSpacing=function(p,b){$scope.datas[p].children[b]=$scope.curLayerDatas},jQuery(function(){jQuery("#kFontColor").colorpicker({fillcolor:!0,success:function(o,color){jQuery(o).css("background",color),$scope.curLayerDatas.color=color,$scope.datas[kCurP].children[kCurB].color=color,jQuery(o)[0].click()}})})}jQuery.noConflict();var count=5,ZINDEX=9999,kscope=null,kCurP=null,kCurB=null;