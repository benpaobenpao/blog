<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="../mix/page/css/fontello.css">
    <link rel="stylesheet" href="../mix/page/index.min.css">
    <link rel="stylesheet" href="./ac/css/animate.min.css">
    <link rel="stylesheet" href="./ac/css/main.css">
    <script src="../../plugs/jquery-2.1.3.min.js"></script>
    <script src="../../plugs/angular.min.js"></script>
    <script src="../../plugs/jquery.colorpicker.js"></script>
    <script src="../mix/page/index.min.js"></script>
    
</head>
<body ng-app="" ng-controller="datasController" ng-model="datas">
<!-- <input type="button" value="test" ng-click="hello()" ng-model="datas"> -->

    <div class="k_phone">
        <div class="wrapper" id="wrapper">
          <div _id="{{ pLayers._id }}" class="item  k_groupItem {{ pLayers._checked?'k_curGroupLayers' : '' }}" ng-repeat="pLayers in datas | orderBy:'_id':true track by $index " >
              <div _id="{{ layer._id }}"  class="k_elem {{layer._checked ? 'k_curLayer' : '' }}"  ng-click="curLayerClick(pLayers._id,layer._id ,$event)"  ng-repeat="layer in pLayers.children | orderBy:'_id':true track by $index " >
                  <div >
                      <span class="animated {{ layer.effect }}" _checked="{{ layer._checked }}" ng-if="layer._type == 1 && layer.visibility"       style="color: {{ layer.color }} ; left: {{ layer.left }} ; top: {{ layer.top }} ; font-size: {{ layer.fontSize }}px ; line-height: {{ layer.lineHeight }}px ; letter-spacing: {{ layer.letterSpacing }}px; -webkit-animation-delay: {{ layer.delay }} ; ">{{ layer.value }}</span>
                      <img ng-if="layer._type == 2 "  alt="" ng-src="{{ layer.value }}" >
                  </div>
              </div>
          </div>
        </div>
    </div>

    <div class="k_groupAttr k_groupAttrTxt  {{ curLayerDatas._type == 1? '' : 'k_hidden' }}" >
        <div>文字编辑</div>
        <div class="k_clearfix k_edit">
            <div class="k_lt">
                动画
                <select class="input inputTxtDropdown js--animations" >
                    <option value="none"   >  无</option>
                    <optgroup label="Attention Seekers">
                      <option value="bounce" >bounce</option>
                      <option value="flash"   >flash</option>
                      <option value="pulse"  >pulse</option>
                      <option value="rubberBand"  >rubberBand</option>
                      <option value="shake"  >shake</option>
                      <option value="swing"  >swing</option>
                      <option value="tada"   >tada</option>
                      <option value="wobble"  >wobble</option>
                    </optgroup>

                    <optgroup label="Bouncing Entrances">
                      <option value="bounceIn">bounceIn</option>
                      <option value="bounceInDown">bounceInDown</option>
                      <option value="bounceInLeft">bounceInLeft</option>
                      <option value="bounceInRight">bounceInRight</option>
                      <option value="bounceInUp">bounceInUp</option>
                    </optgroup>

                    <optgroup label="Bouncing Exits">
                      <option value="bounceOut">bounceOut</option>
                      <option value="bounceOutDown">bounceOutDown</option>
                      <option value="bounceOutLeft">bounceOutLeft</option>
                      <option value="bounceOutRight">bounceOutRight</option>
                      <option value="bounceOutUp">bounceOutUp</option>
                    </optgroup>

                    <optgroup label="Fading Entrances">
                      <option value="fadeIn">fadeIn</option>
                      <option value="fadeInDown">fadeInDown</option>
                      <option value="fadeInDownBig">fadeInDownBig</option>
                      <option value="fadeInLeft">fadeInLeft</option>
                      <option value="fadeInLeftBig">fadeInLeftBig</option>
                      <option value="fadeInRight">fadeInRight</option>
                      <option value="fadeInRightBig">fadeInRightBig</option>
                      <option value="fadeInUp">fadeInUp</option>
                      <option value="fadeInUpBig">fadeInUpBig</option>
                    </optgroup>

                    <optgroup label="Fading Exits">
                      <option value="fadeOut">fadeOut</option>
                      <option value="fadeOutDown">fadeOutDown</option>
                      <option value="fadeOutDownBig">fadeOutDownBig</option>
                      <option value="fadeOutLeft">fadeOutLeft</option>
                      <option value="fadeOutLeftBig">fadeOutLeftBig</option>
                      <option value="fadeOutRight">fadeOutRight</option>
                      <option value="fadeOutRightBig">fadeOutRightBig</option>
                      <option value="fadeOutUp">fadeOutUp</option>
                      <option value="fadeOutUpBig">fadeOutUpBig</option>
                    </optgroup>

                    <optgroup label="Flippers">
                      <option value="flip">flip</option>
                      <option value="flipInX">flipInX</option>
                      <option value="flipInY">flipInY</option>
                      <option value="flipOutX">flipOutX</option>
                      <option value="flipOutY">flipOutY</option>
                    </optgroup>

                    <optgroup label="Lightspeed">
                      <option value="lightSpeedIn">lightSpeedIn</option>
                      <option value="lightSpeedOut">lightSpeedOut</option>
                    </optgroup>

                    <optgroup label="Rotating Entrances">
                      <option value="rotateIn">rotateIn</option>
                      <option value="rotateInDownLeft">rotateInDownLeft</option>
                      <option value="rotateInDownRight">rotateInDownRight</option>
                      <option value="rotateInUpLeft">rotateInUpLeft</option>
                      <option value="rotateInUpRight">rotateInUpRight</option>
                    </optgroup>

                    <optgroup label="Rotating Exits">
                      <option value="rotateOut">rotateOut</option>
                      <option value="rotateOutDownLeft">rotateOutDownLeft</option>
                      <option value="rotateOutDownRight">rotateOutDownRight</option>
                      <option value="rotateOutUpLeft">rotateOutUpLeft</option>
                      <option value="rotateOutUpRight">rotateOutUpRight</option>
                    </optgroup>

                    <optgroup label="Sliding Entrances">
                      <option value="slideInUp">slideInUp</option>
                      <option value="slideInDown">slideInDown</option>
                      <option value="slideInLeft">slideInLeft</option>
                      <option value="slideInRight">slideInRight</option>

                    </optgroup>
                    <optgroup label="Sliding Exits">
                      <option value="slideOutUp">slideOutUp</option>
                      <option value="slideOutDown">slideOutDown</option>
                      <option value="slideOutLeft">slideOutLeft</option>
                      <option value="slideOutRight">slideOutRight</option>
                      
                    </optgroup>
                    
                    <optgroup label="Zoom Entrances">
                      <option value="zoomIn">zoomIn</option>
                      <option value="zoomInDown">zoomInDown</option>
                      <option value="zoomInLeft">zoomInLeft</option>
                      <option value="zoomInRight">zoomInRight</option>
                      <option value="zoomInUp">zoomInUp</option>
                    </optgroup>
                    
                    <optgroup label="Zoom Exits">
                      <option value="zoomOut">zoomOut</option>
                      <option value="zoomOutDown">zoomOutDown</option>
                      <option value="zoomOutLeft">zoomOutLeft</option>
                      <option value="zoomOutRight">zoomOutRight</option>
                      <option value="zoomOutUp">zoomOutUp</option>
                    </optgroup>

                    <optgroup label="Specials">
                      <option value="hinge">hinge</option>
                      <option value="rollIn">rollIn</option>
                      <option value="rollOut">rollOut</option>
                    </optgroup>
                  </select>
            </div>
            <div class="k_rt">
                延迟时间: <input type="number" value="0">
            </div>
        </div>
        <div class="k_clearfix k_edit">
            <div class="k_lt">
                <i class="icon-font" title="大小"></i>
                <input type="text" ng-model="curLayerDatas.fontSize" value="{{ curLayerDatas.fontSize }}" ng-blur="setFontSize(curLayerDatas._p, curLayerDatas._id);">
            </div>
            <div class="k_rt">
                <i class="icon-ajust" title="颜色"></i> 
                <input id="kFontColor"  class="k_fontColor" ng-model="curLayerDatas.color" value="{{ curLayerDatas.color }}" style="background: {{ curLayerDatas.color }}" ng-click="setFontColor(curLayerDatas._p, curLayerDatas._id);" ng-change="setFontColorChange(curLayerDatas._p, curLayerDatas._id);">
            </div>
        </div>
        <div class="k_clearfix k_edit">
            <div class="k_lt">
                Left
                <input type="text" ng-model="curLayerDatas.left" value="{{ curLayerDatas.left }}" ng-blur="setFontLeft(curLayerDatas._p, curLayerDatas._id);">
            </div>
            <div class="k_rt">
                Top
                <input type="text" ng-model="curLayerDatas.top" value="{{ curLayerDatas.top }}" ng-blur="setFontTop(curLayerDatas._p, curLayerDatas._id);">
            </div>
        </div>
        <div class="k_clearfix k_edit">
            <div class="k_lt"><i class="icon-text-height" title="行间距"></i><input type="text" ng-model="curLayerDatas.lineHeight" value="{{ curLayerDatas.lineHeight }}" ng-blur="setFontLineHeight(curLayerDatas._p, curLayerDatas._id);"> </div>
            <div class="k_rt"><i class="icon-text-width" title = "字间距"></i><input type="text" ng-model="curLayerDatas.letterSpacing" value="{{ curLayerDatas.letterSpacing }}" ng-blur="setFontLetterSpacing(curLayerDatas._p, curLayerDatas._id);"> </div>
        </div>
        
        
        
        <i class="icon-align-left"></i>
        <i class="icon-align-center"></i>
        <i class="icon-align-right"></i>
    </div>
    <div class="k_groupAttr k_groupAttrPic {{ curLayerDatas._type == 2? '' : 'k_hidden' }}" > </div>
    <div class="k_groupAttr k_groupAttrSound {{ curLayerDatas._type == 3? '' : 'k_hidden' }}" >声音</div> 
    <div class="k_partLayers" >
        <div class="k_groupElems">
            <a href="javascript:void(0);" class="btn"><i class="icon-pencil-squared" ng-click="boxTxtShow()"></i></a>
            <a href="javascript:void(0);" class="btn"><i class="icon-picture"></i></a>
            <a href="javascript:void(0);" class="btn"><i class="icon-volume-up"></i></a>
        </div>
        <div _id="{{ pLayers._id }}" class="k_groupLayers {{ pLayers._checked?'k_curGroupLayers' : '' }}" ng-repeat="pLayers in datas | orderBy:'_id':true track by $index " >
            <div class="k_groupTitle" ng-click="curGroupLayersClick(pLayers._id);">  
                <i class="{{pLayers.visibility ? 'icon-eye' : 'icon-eye-off' }}" ng-click="pLayers.visibility = !pLayers.visibility"></i>
                {{ pLayers._name }} 
                <i class="{{pLayers._open ? 'icon-minus-circled' : 'icon-plus-circled' }}"></i>
            </div>
            <div _id="{{ layer._id }}"  class="k_layer {{layer._checked ? 'k_curLayer' : '' }}"  ng-click="curLayerClick(pLayers._id,layer._id ,$event)"  ng-repeat="layer in pLayers.children | orderBy:'_id':true track by $index " >
                <i class="{{ layer.visibility ? 'icon-eye' : 'icon-eye-off' }}"  ng-click="isLayerVisible(layer.visibility,pLayers._id,layer._id ,$event)" ></i>
               {{layer._name}}
            </div>
        </div> 
        
        <div class="k_groupOptions">
            <i class="icon-angle-circled-up"></i>
            <i class="icon-angle-circled-down"></i>
            <i class="icon-trash"></i>
        </div>
    </div>
    

    <div class="k_boxTxt" ng-hide="isBoxTxtShow" >
        <div class="k_box">
            <input type="text" ng-model="boxTxtVal" placeholder="输入文字">
            <input type="button" value="确定" ng-click="boxTxtSave()">
            <input type="button" value="取消" ng-click="boxTxtClosed()">
        </div>
    </div>
    <script type="text/javascript" src="./ac/js/touchScroll.min.js"></script>
    <script>

      window.onload = function(){
        touchScroll = new touchScroll('#wrapper',{
          // itemClass: '.k_groupItem',
          start:function(){
          },
          end:function(scroll){
              var actives = jQuery("#wrapper")[0].getElementsByClassName("active");
              if(actives.length>0){
                  for(var i=0,l=actives.length;i<l;i++){
                      var tmp = actives[i].getAttribute("class");
                      tmp = tmp.replace("active","");
                      actives[i].setAttribute("class", tmp);
                  }
                  
              }

              var curobj = jQuery("#wrapper")[0].getElementsByClassName("item")[touchScroll.current];
              var tmp = curobj.getAttribute("class");
              tmp += " active";
              curobj.setAttribute("class",tmp);
          }
      });
      }
      
    </script>
    
</body>
</html>